<!DOCTYPE html>
<html lang="en">
<head>
<title>Icon-Maker</title>
<link rel="apple-touch-icon" sizes="180x180" href="resources/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="resources/img/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="resources/img/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="resources/img/favicons/manifest.json">
<link rel="mask-icon" href="resources/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="theme-color" content="#ffffff">
<meta charset="UTF-8">
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' href='resources/css/jquery.mobile-1.2.1.min.css' />	
<link rel='stylesheet' href='resources/css/allSets.min.css' />
<link rel='stylesheet' href='resources/css/icon-maker.css' />	
<link rel='stylesheet' href='resources/css/icon-maker-styles-2.css' /> 
<link rel='stylesheet' href='resources/css/spectrum.css' /> 

<script src='resources/js/jquery-1.11.2.min.js'></script>	
<script src='resources/js/jquery-ui.js'></script> 
	<script language="text/javascript">
			//configure jQM
			$(document).bind("mobileinit", function () {
			$.mobile.ajaxEnabled = false;
			$.mobile.defaultPageTransition= 'none';
		});
	 </script>
<script src='resources/js/jquery.mobile-1.4.0.min.js'></script>	
<script src="resources/js/spectrum.js"></script>

<style>
  #drawing-area {
    border:2px solid red;
    position:absolute;
    height:600px;
    width:600px;
    z-index:60001;
  }
</style>
</head>
	
<body>
<div class="cover"></div>
<div data-role='page' id='cGrid' class="gridView">

<div data-role="header" data-id="header" id="header" data-tap-toggle="false">

<!-- LOGO + BLUE BAR -->

<div id="nav">

    <div id="blueSeperator"></div>  

    <!-- SEARCH-->              
    <div id="mySearch" style="float:left!important;position:absolute;top:-20px;left:-20px;color:#999!important">
      <i class="fa fa-search" style="float:left;position:absolute; top:5px;left:-46px;width:20px;""></i>
      <input type="text" name="search" id="search" placeholder="Keyword search"   />
          <a href="#" id="clearSearch"><i class="fa fa-times"></i></a>
          <div class="bar"></div> 
    </div>

  <!-- CATEGORIES DROPDOWN-->  
    <div id="filterDropDown">
    <ul>
      <li><span id="filterType" style="color:#999;font-family:arial, sans-serif;font-weight:normal">All Categories</span><i class="fa fa-angle-down" style="border:0px solid green;margin-top:-2px"></i></li>
      <li>
        <ul>
            <li data-category-value="*" class="menuItem" id="allCat"><a href="#" class="ui-link">All Categories</a></li>
            <li data-category-value=".business" class="menuItem"><a href="#" class="ui-link">Business</a></li>
            <li data-category-value=".entertainment" class="menuItem"><a href="#" class="ui-link">Entertainment</a></li>
            <li data-category-value=".food" class="menuItem"><a href="#" class="ui-link">Food &amp; Drink</a></li>
            <li data-category-value=".nature" class="menuItem"><a href="#" class="ui-link">Nature</a></li>
            <li data-category-value=".objects" class="menuItem"><a href="#" class="ui-link">Objects</a></li>
            <li data-category-value=".office" class="menuItem"><a href="#" class="ui-link">Office</a></li>
            <li data-category-value=".people" class="menuItem"><a href="#" class="ui-link">People</a></li>
            <li data-category-value=".social" class="menuItem"><a href="#" class="ui-link">Social</a></li>
            <li data-category-value=".sports" class="menuItem"><a href="#" class="ui-link">Sports</a></li>
            <li data-category-value=".technology" class="menuItem"><a href="#" class="ui-link">Technology</a></li>
            <li data-category-value=".travel" class="menuItem"><a href="#" class="ui-link">Travel</a></li>
            <li data-category-value=".UI" class="menuItem"><a href="#" class="ui-link">UI Elements</a></li>
        </ul>
        </li>
      </ul>
    </div>

    <!-- LOGO -->                 
    <div id="alexaLogo">
      <img src="resources/img/alexaLogo.png" />
    </div>   

</div><!-- nav -->
</div><!-- end header -->
	
<div data-role='content'>

<div id="container" class="js-isotope" data-isotope-options='{ "itemSelector": ".item", "getSortData": {  "number": ".number parseInt", "name": ".name", "category": "[data-category]" }, "layoutMode" : "fitRows"}'>

</div><!--end isotope container-->

<!-- CANVAS AREA -->
<div id="drawing-area" style="2px solid green; background-color: blue">
      <div id="sm-container">
          <div id="sm-background">
                <div id="sm-glyph-container">
                  <i class="fa fa-amazon" id="sm-glyph"></i>
              </div>  <!-- // sm-glyph-container -->
        </div> <!-- // sm-background -->
      </div><!-- // sm-container -->

      <div id="lg-container">
          <div id="lg-background">
              <div id="lg-glyph-container">
                  <i class="fa fa-amazon" id="lg-glyph"></i>
              </div><!-- // lg-glyph-container -->
          </div><!-- // lg-background -->
      </div><!-- // lg-container -->
</div><!-- // drawing-area -->

<!-- PROPERTIES PANEL -->

    <div id="propertiesPanel">

 <!--    <p style="position:absolute; top:10px; left:20px">Controls Apply To:</p>
    <div style="position:absolute; top:46px; left:0px">
        <button id="btn-both">Both</button>
        <button id="btn-small-icon">108</button>
        <button id="btn-large-icon">512</button>
    </div> -->

    <div id="glyphColorPicker" style="position:absolute;border:0px solid yellow;top:20px; left:20px;width:250px!important">
          <p style="margin-left:20px!important">
          <p>Icon Color:<p/>
          <p><input type='text' id="glyph-color" /></p>
    </div> <!--//glyph-color-picker-->

    <div id="bkgndColorPicker" style="position:absolute;border:0px solid yellow;top:80px; left:20px;height:50px;width:250px!important;border:0px solid red;">
          <p style="margin-left:20px!important">
          <p>Background Color:<p/>
          <p><input type='text' id="fullBkgnd" /></p>
  </div> <!--//colorPickerBkgnd-->

    <!-- SWATCHES DROPDOWN-->  
    <div id="gradientDropDown" style="background:#ebebeb;">
    <ul>
      <li><span id="gradientType" style="color:#444;font-family:arial, sans-serif;font-weight:normal">Swatches</span><i class="fa fa-angle-down" style="border:0px solid green;margin-top:-2px;"></i></li>
      <li>
        <ul style="z-index:60000!important">
                <li class="gradientItem" style="height:150px;width:100%;border:1px solid black;background-color:#454545!important">
                      <div id="bk01" class="backgroundColor"></div>
                      <div id="bk02" class="backgroundColor"></div>
                      <div id="bk03" class="backgroundColor"></div>
                      <div id="bk04" class="backgroundColor"></div>
                      <div id="bk05" class="backgroundColor"></div>
                      <div id="bk06" class="backgroundColor"></div>
                      <div id="bk07" class="backgroundColor"></div>
                      <div id="bk08" class="backgroundColor"></div>
                      <div id="bk09" class="backgroundColor"></div>
                      <div id="bk10" class="backgroundColor"></div>
                      <div id="bk11" class="backgroundColor"></div>
                      <div id="bk12" class="backgroundColor"></div>
                      <div id="bk13" class="backgroundColor"></div>
                      <div id="bk14" class="backgroundColor"></div>
                      <div id="bk15" class="backgroundColor"></div>
                      <div id="bk16" class="backgroundColor"></div>
                      <div id="bk17" class="backgroundColor"></div>
                      <div id="bk18" class="backgroundColor"></div>
                      <div id="bk19" class="backgroundColor"></div>
                      <div id="bk20" class="backgroundColor"></div>
                      <div id="bk21" class="backgroundColor"></div>
                      <div id="bk22" class="backgroundColor"></div>
                      <div id="bk23" class="backgroundColor"></div>
                      <div id="bk24" class="backgroundColor"></div>
              </li>
        </ul>
        </li>
      </ul>
    </div>

<div id="iconSize" style="position:absolute;top:-120px;left:20px;width:80%;border:0px solid yellow">
  <p style="font-size:18px">Icon Size</p>
  <div id="larger" class="iconFontSize">larger</div>
  <div id="smaller" class="iconFontSize">smaller</div>
</div>

<!-- PROPERTIES PANEL: DOWNLOAD -->
<div id="download108" class="downloadButton"><i class="fa fa-arrow-circle-o-down"></i> Small Icon</div>
<div id="download512" class="downloadButton"><i class="fa fa-arrow-circle-o-down"></i> Large Icon</div>

 </div><!--//END PROPERTIES-->
    <script type="text/javascript">

    $("#fullBkgnd").spectrum({
        color: "#f90",
        flat: false,
        showInput: true,
        className: "full-spectrum",
        showInitial: true,
        clickoutFiresChange:true,
        showPalette: false,
        showSelectionPalette: true,
        preferredFormat: "hex",
        localStorageKey: "spectrum.demo",
        move: function (color) {
        },
        show: function () {
        
        },
        beforeShow: function () {
        
        },
        hide: function () {
        
        },
        change: function() {
          var newColor1 = $('#fullBkgnd').spectrum('get');
          if (largeIcon) {
            $("#lg-background").css('background', newColor1);
          } else if (smallIcon) {
            $("#sm-background").css('background', newColor1);
          } else {
            $("#lg-background").css('background', newColor1);
            $("#sm-background").css('background', newColor1);
          }
        }
       
    });

    </script>
    <script>
        $("#glyph-color").spectrum({
        color: "#fff",
        flat: false,
        showInput: true,
        className: "full-spectrum",
        showInitial: true,
        clickoutFiresChange:true,
        showPalette: false,
        showSelectionPalette: true,
        preferredFormat: "hex",
        move: function (color) {
        },
        show: function () {
        
        },
        beforeShow: function () {
        
        },
        hide: function () {
        
        },
        change: function() {
          var newColor2 = $('#glyph-color').spectrum('get');
          console.log("glyph-color" + newColor2);
          if (largeIcon) {
            $("#lg-glyph").css('color', "'"+ newColor2 + "'");
          } else if (smallIcon) {
            $("#sm-glyph").css('color',  "'"+ newColor2 + "'");
          } else {
            $("#sm-glyph").css('color',  "'"+ newColor2 + "'");
            $("#lg-glyph").css('color',  "'"+ newColor2 + "'");
          }
        }
       
    });

    </script>
    <script src="resources/js/FileSaver.min.js"></script> 
    <script src="resources/js/dom-to-image.min.js"></script> 
    <script>
    $('#download108').click(function() {
        domtoimage.toBlob(document.getElementById('sm-background'))
            .then(function (blob) {
                window.saveAs(blob, 'myIcon-108x108.png');
            });
    });
    $('#download512').click(function() {
        domtoimage.toBlob(document.getElementById('lg-background'))
            .then(function (blob) {
                window.saveAs(blob, 'myIcon-512x512.png');
            });
    });
</script>
<script src="resources/js/domvas.min.js"></script>
<script src="resources/js/icon-maker-utils.js"></script> 
<script src="resources/js/icon-maker.js"></script>  
</div><!--//end content-->
  
<script src="resources/js/isotope.js"></script>	
 <script>
  $( function() {
    $( "#sm-glyph" ).draggable();
    $( "#lg-glyph" ).draggable();
  });
  </script>


</div><!--//end cGrid-->

</body>
</html>